#include "PaletteHandle.hpp"

void DrawPromptPalette(WINDOW* t_win)
{
  auto[old_x, old_y] = g_cursor.GetCurxy();

  std::size_t index {1};
  
  for(; index < g_palette.size()+1; index++)
    {
      g_cursor.MovePalette(t_win, index);

      //rgb is not the problem
      RGB& rgb {g_palette[index-1]};
      //RGB& rgb {g_palette[1]};
      
      init_color(COLOR_RED,   rgb.GetFg_R(), rgb.GetFg_B(), rgb.GetFg_B());
      init_color(COLOR_GREEN, rgb.GetBg_R(), rgb.GetBg_B(), rgb.GetBg_B());

      init_pair(index, COLOR_RED, COLOR_GREEN);

      wattron(t_win, COLOR_PAIR(index));
      waddch(t_win, rgb.Get_Character());
      wattroff(t_win, COLOR_PAIR(index));
    }
  
  g_cursor.MovePalette(t_win, index);
  waddch(t_win, '/');
  
  g_cursor.MovePalette(t_win, ++index);
  waddch(t_win, char{g_cursor.GetPalette_Pos() + '0'} + 1);
  
  g_cursor.Move(t_win, old_x, old_y);
}

void PaletteHandle